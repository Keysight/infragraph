paths:
  /set_graph:
    post:
      tags: ['Configuration']
      operationId: set_graph
      x-stream: client
      description: >-
        Given an infrastructure payload this will create a
        complete infrastructure graph that has been validated.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '../models/infrastructure.yaml#/components/schemas/Infrastructure'
      responses:
        '200':
          $ref: '../models/request.yaml#/components/responses/Success'
          x-field-uid: 1
        default:
          $ref: '../models/request.yaml#/components/responses/Failure'
          x-field-uid: 2
