components:
  schemas:
    Edge.Common:
      description: Defines the edge creation scheme pattern used to connect endpoints.
      type: object
      required:
        - scheme
      properties:
        scheme:
          description: |-
            The scheme that will be used to create edges between the endpoints ep1 and ep2.
          type: string
          x-enum:
            one2one:
              x-field-uid: 1
            many2many:
              x-field-uid: 2
            ring:
              x-field-uid: 3
    Device.Endpoint:
      description: Describes an endpoint consisting of a device and its component, including optional device name and component slice.
      type: object
      required:
        - component
      properties:
        device:
          description: |-
            This property is optional and should only be used when device composition is required.
            - Device composition occurs when a device includes a component whose choice property is set to device
            - This property value MUST match a Device.name in an item in the Infrastructure.devices array
            - The Device.name value MUST match an Instance.device value in the Infrastructure.instances array
            - This property value MUST be combined with the component name to generate a unique endpoint
          type: string
          x-field-uid: 1
        component:
          description: |-
            The name of a component that exists in the containing device
            and the indexes of the component.

            The indexes MUST be specified using python slice notation.
              - example: cx5[0:2]
          type: string
          x-field-uid: 2
    Infrastructure.Endpoint:
      description: Defines an endpoint referencing an infrastructure instance and its component with slice indexing.
      type: object
      required:
        - instance
        - component
      properties:
        instance:
          description: |-
            A name that matches the Instance.name property of an instance object that MUST exist in the infrastructure instances array.

            The instance object yields:
              - a device name that contains the component and MUST exist in the infrastructure devices
              - a count that is the maximum to be used in the slice notation

            The indexes MUST be specified using python slice notation.
              - example: host[0:2]
          type: string
          x-field-uid: 1
        component:
          description: |-
            The name of a component that MUST exist in the Instance.device specified by the instance object in the Infrastructure.instances array.

            The indexes MUST be specified using python slice notation. Some examples are:
              - xpu[0:2]
              - dgx.cx5[0]
          type: string
          x-field-uid: 2
    Infrastructure.Edge:
      description: Represents an edge between two infrastructure endpoints with an associated link and edge scheme.
      type: object
      required:
        - ep1
        - ep2
        - link
      properties:
        ep1:
          description: |-
            A device and component that is one endpoint of the edge
          $ref: "#/components/schemas/Infrastructure.Endpoint"
          x-field-uid: 1
        ep2:
          description: |-
            A device and component that is the other endpoint of the edge
          required:
            - device
            - component
          $ref: "#/components/schemas/Infrastructure.Endpoint"
          x-field-uid: 2
        scheme:
          x-include: "#/components/schemas/Edge.Common/properties/scheme"
          x-field-uid: 3
        link:
          description: |-
            The name of a link that defines additional characteristics of the edge.
            The name MUST exist in the links array of the infrastructure.
          type: string
          x-field-uid: 4
    Device.Edge:
      description: Represents an edge connecting two device endpoints, describing the link and edge scheme.
      type: object
      required:
        - ep1
        - ep2
        - link
      properties:
        ep1:
          description: |-
            An optional device and component that is the other endpoint of the edge
          $ref: "#/components/schemas/Device.Endpoint"
          x-field-uid: 1
        ep2:
          description: |-
            An optional device and component that is the other endpoint of the edge
          $ref: "#/components/schemas/Device.Endpoint"
          x-field-uid: 2
        scheme:
          x-include: "#/components/schemas/Edge.Common/properties/scheme"
          x-field-uid: 3
        link:
          description: |-
            The name of a link that defines additional characteristics of the edge.
            The name MUST exist in the links array of the containing device.
          type: string
          x-field-uid: 4
